"use strict";function passResetPost(){var e="",s=$("#reset_code").val(),a=$("#passwordconfirm").val(),o=$("#userkey").val(),t=$("#username").val(),l=$("#password").val(),r=$("#user_type").val(),n=$("#merchant").val(),i=$("#user").val();""==l?e="Password field is empty":""==a?e="Password confirmation field is empty":a!=l&&(e="Your new password and confirmation password do not match"),""==e?postCheck("login_message",{form_type:"passreset_confirm",login_form:!1,reset_code:s,username:t,password:l,userkey:o,user_type:r,merchant:n,user:i,password_confirm:a},11):$("#login_message").html(alert_msg(e))}function passResetEmail(e){var s="";""!=e?(console.log("hello"),validate_email(e)?(data={form_type:"passreset",email:e},console.log("check"),console.log(data),postCheck("login_message",data,11)):s="Invalid email, please enter valid email"):s="Email is blank, please provide valid email",""!=s&&(console.log("console.error;"),$("#login_message").html(alert_msg(s)))}function login(){var e={},s="",a=$("#username").val(),o=$("#password").val(),t=$("#logintype").val(),l={url:post_urls[11],login_form:"login",password:o,logintype:t};$("#login_message").html(""),e=0==t&&0==$("#passresetConfirm").length?{email:s=$("#email").val(),username:a}:validate_email(a)?{email:a}:{username:a},data=Object.assign({get_type:post_type[0],token:token},l,e),console.log(data),s=$("#email").val(),l=!!validate_email(s),null!=$("#passresetConfirm").length&&0!=$("#passresetConfirm").length?passResetPost():"true"==$("#passresetInpt").val()||1==$("#passresetInpt").val()?(console.log("passreset"),passResetEmail(s)):""==a||""==o||0==t&&""==s||0==t&&0==l?(e=""==o?"Password field is empty !":"",t=(""==a?"Username field is empty !":"")||e||(""==s?"Email field is empty !":l?"":"Your email is invalid !"),$(".message").html(alert_msg(t))):($(".message").html(""),postCheck("login_message",data,2),jQuery.ajax({url:path_action,method:"POST",data:data,success:function(e){console.log(e),is_json_string(e)&&(e=JSON.parse(e),console.log(e),0==e.error&&1==e.success?""!=e.url?window.location.href=e.url:location.reload():$(".message").html(alert_msg(e.message)))},error:function(){alert("Connection Error")}}))}function sign_up(){var e,s,a=$("#username").val(),o=$("#email").val(),t=$("#password").val();$("#admin").val(),$("#franchise_val").val();console.log(a,t,o),8<=t.length?password_check=1:$("#notice").html(alert_msg("Password too short")),""==a&&0==user_check||""==o&&0==email_check||""==t&&0==email_check?$("#notice").html(alert_msg("All fields are required")):($("#notice").html(""),a=$("#UsernameForm").serialize(),o=$("#emailForm").serialize(),t=$("#passwordForm").serialize(),e=$("#franchiseForm").serialize(),s=$("#submitForm").serialize(),console.log(user_check,email_check,password_check),1==user_check&&1==email_check&&1==password_check?(a=a+"&"+o+"&"+t,console.log(french_check," french"),a=0<$("#franchise_val").length&&1==french_check?a+"&"+e+"&"+s:a+"&"+s,console.log(a),jQuery.ajax({url:"includes/action/signin.php",method:"POST",data:a,success:function(e){console.log(e),""==(e=JSON.parse(e)).data&&""==e.error?location.reload():$("#notice").html(alert_msg(e.error))},error:function(){alert("Connection Error")}})):$("#notice").html(alert_msg("Please note that your inputs are incorrect")))}function log_(){var e=parsers_path+"signin_form.php";jQuery.ajax({url:e,method:"POST",data:{signin_form:"form_up"},success:function(e){console.log(e),null==e&&""==e||$(".modal-body").html(e)},error:function(){alert("Connection Error")}})}function changeLogin(){$("#login_message").html("");var e=$("#logintype").val();$("#passreset").toggle(),$("#emailDiv").hasClass("hidden")?($("#emailDiv").removeClass("hidden"),$("#isLoggedBtn").text("Create Account"),$(".q_accnt").text("Already have an account ?"),$(".change_accnt").text("Login")):($("#emailDiv").addClass("hidden"),$("#isLoggedBtn").text("Login"),$(".q_accnt").text("You dont's have an account ?"),$(".change_accnt").text("Create account")),0==e&&$("#emailDiv").hasClass("hidden")?$("#logintype").val(1):1==e&&$("#logintype").val(0)}function passReset(){$("#login_message").html(""),$("#emailDiv").hasClass("hidden")?($(".message").html(message_alert("Provide your account email","warning")),$("#emailDiv").removeClass("hidden"),$("#usernameDiv").toggle(),$("#passwordDiv").toggle(),$("#resetText").text("Cancel"),$("#isLoggedBtn").text("Request password reset"),$("#passresetInpt").val(!0),$("#accnttypeDiv").hide()):($("#emailDiv").addClass("hidden"),$("#usernameDiv").toggle(),$("#passwordDiv").toggle(),$("#resetText").text("forgot your username/password ?"),$("#isLoggedBtn").text("Login"),$(".message").html(""),$("#passresetInpt").val(!1),$("#accnttypeDiv").show())}